<div id="sidebar" class="col-sm-3">
  <!-- User tile. -->
  <nav class="navbar navbar-inverse">
    <div class="container">
      <ul class="nav navbar-nav">
        <li  ng-class="accountDropdownClass">
          <a id="account-dropdown" href="#" class="navbar-brand" ng-click="toggleAccountDropdownVisibility()" title="{{userName}}">{{userName}} <span class="caret"></span></a>
          <ul class="dropdown-menu" ng-show="accountDropdownVisible">
            <li><a href="#" ng-click="toggleAccountDropdownVisibility()">Account settings</a></li>
            <li><a href="#" ng-click="logout()">Sign out</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <div id="sidebar-inner">
    <div class="container">
      <!--
          <div class="dropdown-item"
              ng-click="toggleAddContactVisibility()">Add Contact</div>
          <form ng-show="addContactVisible"
              ng-submit="addContact()">
            <input type="email" ng-model="contactEmail" placeholder="Contact E-mail" />
            <input type="submit" value="Send" />
            <span ng-class="{active: sentMessageVisible}">Sent!</span>
          </form>
        </div>-->
      
      <h4>Conversations</h4>
      <ul class="nav nav-sidebar">
        <li ng-if="chats.length === 0"><p>Select a contact to start a conversation</p></li>
        <li ng-repeat="chat in chats">
          <a ng-href="/chat-{{chat._id}}">{{chat.name}}</a>
        </li>
      </ul>

      <h4>Contacts</h4>
      <ul class="nav nav-sidebar">
        <li ng-if="contacts.length === 0" ng-click="showAddContacts()">
          <a href="#">Add a contact</a>
        </li>
        <li ng-repeat="contact in contacts">
          <a href="#" ng-click="openChat(contact.id)">{{contact.info.name}}</a>
        </li>
      </ul>

      <ul class="sidebar-nav">
        <li class="sidebar-nav-header"
            ng-if="requests.length > 0">
              contact requests
            </li>
        <li class="sidebar-brand"
            ng-repeat="request in requests">
          <span>{{request.info.name}}</span>
          <button ng-click="addContactResponse(request.id, true)">Accept</button>
          <button ng-click="addContactResponse(request.id, false)">Decline</button>
        </li>
      </ul>
    </div>
  </div>
</div>